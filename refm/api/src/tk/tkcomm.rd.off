# $Id: tkcomm.rd,v 1.15 2001/03/18 12:37:20 arai Exp $
# Module TkComm is defined in tk.rb
=begin
= TkComm

Ruby、ネTcl/Tk、ホエヨ、ヌ・ヌ。シ・ソ、ホシマ、キ、札筺▲髻▲宗≒Ε曄筵ク・蝪シ・Ε漫▲院」

、ウ、ホ・筵ク・蝪シ・Ε曄Α◆Д院Ε宗Д院皈ス・テ・ノ、マ。「ノ眛フ。「・筵ク・蝪シ・(<Tk>))、ホ・
・ク・蝪シ・рД后Ε董Ε痢▲諭▲、ニサネヘム、オ、Α、ケ。」

== private・皈ス・テ・ノ:

--- TkComm#error_at

--- TkComm#tk_tcl2ruby(val)
    ((|val|))、uby、ホ・ェ・ヨ・ク・ァ・ッ・ネ、ヒハムエケ、キ、゛、ケ。」

--- TkComm#tk_split_list(str)
    ((<Tcl、ホ・Д院Ε>))、疋蹈棡Ε劵魯爛┘院▲、ニハヨ、キ、゛、ケ。」ヌロホ魯薀船漫▲沺「
    ((<TkComm#tk_tcl2ruby>))、ヒ、隍テ、ニハムエケ、キ、ソ・ェ・ヨ・ク・ァ・ッ・ネ、ヌ、ケ。」

--- TkComm#tk_split_simplelist(str)
    ((<Tcl、ホ・Д院Ε>))、魅サ期Ε曠魅蹈棡Ε劵魯爛┘院▲、ニハヨ、キ、゛、ケ。」

--- TkComm#hash_kv(keys)
    ーΕ魅淵沺▲、Ε宗Ε沺Ε董Ε・蛔"key"=>"val", ...} 、"-key", "val", ...]、ヌ、「、
    ヌロホΕ辧▲、ニハヨ、キ、゛、ケ。」

    Tcl/Tk、ホ((<・ヲ・」・ク・ァ・テ・ネ・ウ・゛・Д>))(({configure}))、ヒー妊沺▲院▲宗≒Ε劵
    ノΕ魅汽優悒燹▲、゛、ケ。」

--- TkComm#array2tk_list(ary)
    Ruby、ホヌロホ(|ary|))、cl、ホ・Д院Ε諭▲劵魯爛┘院▲、゛、ケ。」

--- TkComm#bool(val)
    Tcl、ホソソオカテヘ((|val|))、uby、ホソソオカテヘ(({truby}))/(({false}))、ヒ、キ、ニハヨ、キ、゛
    、ケ。」

    Tcl、ホソソテヘ "1", 1, "yes", "true" 、ソソ(({true}))、ネ、キ、ニハヨ、キ、゛、ケ。」、ス、殴
    ウー、マ。「オカ((({false}))、魅茵▲、゛、ケ。」

--- TkComm#number(val)
    Tcl、ホソ泥(、縫后▲吋魯サ(((|val|)))、uby、ホソ泥悄▲辧▲、ニハヨ、キ、゛、ケ。」ソ泥悄▲優優
    テヌ、ヌ、ュ、ハ、、セ試「((|val|))、ス、ホ、筅ホ、魅茵▲、゛、ケ。」((-、、、、、ホ。ゥ-))

--- TkComm#string(val)
    Tcl、ホハクサ期uby、ホハクサ期Ε辧▲、ニハヨ、キ、゛、ケ。」ニテ、ヒ((|val|))、ホホセテシ、ヒ"{"。「 
    "}" 、ャ、「、Ε漾▲后‡鬢情織紂◆、ケ。」

--- TkComm#list(val)
    ーハイシ、ネニア、ク、ヌ、ケ。」

      tk_split_list(((|val|))).to_a

    、ト、゛、遙「((|val|))、ャー魯薀船漫▲((<Tcl、ホ・Д院Ε>))、ヌ、篝Ε劵魅蹈棡Ε諭▲、ニハヨ、キ、゛、ケ。」

--- TkComm#window(val)
    Tk、ホ((<・ヲ・」・ク・ァ・テ・ネ・ム・ケ>))((|val|))、ヒツミアケ、Д髻Α廖Ε・ァ・テ・ネ、魅茵▲、゛、ケ。」

--- TkComm#procedure(val)
    ((<TkComm#install_cmd>))、ヌタ゜ト熙キ、ソ。「Tcl、ホ((<・ラ・Д。シ・ク・))((|val|))、ヒ
    ツミアケ、(<Proc>))・ェ・ヨ・ク・ァ・ッ・ネ、魅茵▲、゛、ケ。」

--- TkComm#_get_eval_string(obj)
    ・ェ・ヨ・ク・ァ・ッ・ネ((|obj|))、ホTcl/Tk・、・Д宗Ε蕁Д宗▲漫▲曠離好ス、魅茵▲、゛、ケ。」

    ((<TkCore#tk_call>))、マ。「、ケ、ル、ニ、ホーΕΑ▲曄皈ス・テ・ノ、ヌハムエケ、キ、ニTcl、ヒナマ、キ
    、゛、ケ。」

--- TkComm#ruby2tcl(obj)
    ・ェ・ヨ・ク・ァ・ッ・ネ((|obj|))、ホTcl/Tk・、・Д宗Ε蕁Д宗▲漫▲曠離好ス、魅茵▲、゛、ケ。」

    ((<TkCore#tk_call>))、マ。「、ケ、ル、ニ、ホーΕΑ▲曄皈ス・テ・ノ、ヌハムエケ、キ、ニTcl、ヒナマ、キ
    、゛、ケ。」

--- TkComm#install_cmd(cmd)
    Proc・ェ・ヨ・ク・ァ・ッ・ネ((|cmd|))、(<・ラ・Д。シ・ク・))、ネ、キ、ニナミマソ、キ、゛、ケ。」
    ((<・ラ・Д。シ・ク・))、哨張吋筺▲院♭cl・ケ・ッ・Д蕁Ε諭魅茵▲、゛、ケ。」
    ((-proc rb_out 、ヒ、ト、、、ニスΕ-))

--- TkComm#uninstall_cmd(id)
    ((|id|))、ヌナミマソ、オ、Ε((<・ラ・Д。シ・ク・))、周織、゛、ケ。」

--- TkComm#install_bind(cmd, args=nil)
    Proc・ェ・ヨ・ク・ァ・ッ・ネ((|cmd|))、(<・、・ル・Д諭ΕΑシ・Д漾Ε董Ε奪┘螢))、ネ、キ、ニナミマソ、キ、゛、ケ。」
    ((<・ラ・Д。シ・ク・))、哨張吋筺▲院♭cl・ケ・ッ・Д蕁Ε諭魅茵▲、゛、ケ。」

--- TkComm#tk_event_sequence(context)
    ・、・ル・Д優轡▲魯侫汽((|context|))、cl、ャイ鐘Ε漫▲紂♪魅サ期Ε劵魯爛┘院▲、ニハヨ、キ、゛、ケ。」

      require "tk"
      p Tk.module_eval { tk_event_sequence ["Escape", "a"] }

      => "Escape><a"

--- TkComm#_bind_core(mode, path, context, cmd, args=nil)
    ((<TkComm#_bind>))。「((<TkComm#_bindappend>))、ホシツツホ、ヌ、ケ。」

--- TkComm#_bind(what, context, cmd, args=nil)
    ((<TkComm#bind>))、ホシツツホ、ヌ、ケ。」

--- TkComm#_bind_append(path, context, cmd, args=nil)
    ((<TkComm#bindappend>))、ホシツツホ、ヌ、ケ。」

--- TkComm#_bind_remove(what, context)
    ((<TkComm#bind_remove>))、ホシツツホ、ヌ、ケ。」

--- TkComm#_bindinfo(what, context=nil)
    ((<TkComm#bindinfo>))、ホシツツホ、ヌ、ケ。」

== ・皈ス・テ・ノ:

--- TkComm#_genobj_for_tkwidget(path)
    ((<・ヲ・」・ク・ァ・テ・ネ・ム・ケ>))((|path|))、ォ、鬣ヲ・」・ク・ァ・テ・ネ・ェ・ヨ・ク・ァ・ッ・ネ、促タョ、キ、゛、ケ。」
    ((|path|))、ヒ、マTcl/Tk、ホ・鬣、・ヨ・鬣熙ハ、ノ、ヌタクタョ、オ、Ε宗Ε燹Ε院愁螢飛Ε、゛、ケ。」

    、ウ、ホ・皈ス・テ・ノ、マタクタョ、キ、ソ・ェ・ヨ・ク・ァ・ッ・ネ、ホ・ッ・鬣ケ、ネ、キ、ニ
    Klass(({GeneratedOnTk}))、船、ソ、ヒト轡繊▲、゛、ケ。」("Klass"、ホノ魅磧▲泪轡張灰鵝▲
    、マ((<・ヲ・」・ク・ァ・テ・ネ・ッ・鬣ケフセ>))、ヌ、ケ)

    Ruby/Tk、ヌタクタョ、キ、ソ・ム・ケ、ДАΕ茵Ε・ァ・ッ・ネ、ヒハムエケ、ケ、Ε辧▲沺「、ウ、ホ・皈ス・テ・ノ、ヌ
    、マ、ハ、ッ((<TkComm#window>))、愁優悒燹▲、゛、ケ。」

    ((-、ウ、Ε董▲private・皈ス・テ・ノ、ク、网ハ、、。ゥ-))

--- TkComm#_curr_cmd_id
    シ。、ホ((<・ラ・Д。シ・ク・))、ホID、魅茵▲、゛、ケ。」

    ((-、ウ、Ε董▲private・皈ス・テ・ノ、ク、网ハ、、。ゥ-))

--- TkComm#_next_cmd_id
    シ。、ホ((<・ラ・Д。シ・ク・))、ホID、魅茵▲、゛、ケ。」ID、マ・ラ・Д。シ・ク・网ャウ荀妊法Å
    ナル、ヒチテ、キ、゛、ケ。」

    ((-、ウ、Ε董▲private・皈ス・テ・ノ、ク、网ハ、、。ゥ-))

--- TkComm#install_win(ppath)
    ソニ・ヲ・」・Д痢Ε髻▲曄Ε髻Α廖Ε・ァ・テ・ネ・ム・ケ((|ppath|))、ヒソキ、キ、ッサメ・ヲ・」・ク・ァ・テ・ネ、ネ、キ、ニ
    (({self}))、妊潺泪宗▲、゛、ケ。」

    ((-、ウ、Ε董▲private・皈ス・テ・ノ、ク、网ハ、、。ゥ-))

--- TkComm#uninstall_win
    ナミマソ、オ、Ε((|self|))、周織、゛、ケ。」

    ((-、ウ、Ε董▲private・皈ス・テ・ノ、ク、网ハ、、。ゥ-))

--- TkComm#bind(tagOrClass, context, cmd=Proc.new, args=nil)
    ((|tagOrClass|))、ヒ・ウ。シ・Д漾Ε董Ε奪┘螢償妊潺泪宗▲、゛、ケ(セワコル、マ
    ((<TkBindCore#bind>))、愁ぅ札諭▲、ニ、ッ、タ、オ、、)。」

    ((|tagOrClass|))、マ。「・ソ・ー(((<TkBindTag>)))。「・ヲ・」・ク・ァ・テ・ネ。「・ヲ・」・ク・ァ・テ・ネ・ッ・鬣ケ
    、ホイソ、Ε、ヌ、ケ。」

--- TkComm#bind_append(tagOrClass, context, cmd=Proc.new, args=nil)
    ((|tagOrClass|))、ヒ・ウ。シ・Д漾Ε董Ε奪┘螢償謄離ぅ董▲、゛、ケ(セワコル、マ
    ((<TkBindCore#bind>))、愁ぅ札諭▲、ニ、ッ、タ、オ、、)。」

    ((|tagOrClass|))、マ。「・ソ・ー(((<TkBindTag>)))。「・ヲ・」・ク・ァ・テ・ネ。「・ヲ・」・ク・ァ・テ・ネ・ッ・鬣ケ
    、ホイソ、Ε、ヌ、ケ。」

--- TkComm#bind_remove(tagOrClass, context)
    ((|tagOrClass|))、ヒナミマソ、オ、Ε宗ΕΑシ・Д漾Ε董Ε奪┘螢償情織紂◆、ケ(セワコル、マ
    ((<TkBindCore#bind_remove>))、愁ぅ札諭▲、ニ、ッ、タ、オ、、)。」

    ((|tagOrClass|))、マ。「・ソ・ー(((<TkBindTag>)))。「・ヲ・」・ク・ァ・テ・ネ。「・ヲ・」・ク・ァ・テ・ネ・ッ・鬣ケ
    、ホイソ、Ε、ヌ、ケ。」

--- TkComm#bindinfo(tagOrClass, context=nil)
    ((|tagOrClass|))、ヒナミマソ、オ、Ε法◆◆♪А◆Ε襦Д諭ΕΑシ・Д漾Ε董Ε叩▲曠事愈疋蹈棡Ε辧▲、ニ
    ハヨ、キ、゛、ケ。」

    ((|tagOrClass|))、マ。「・ソ・ー(((<TkBindTag>)))。「・ヲ・」・ク・ァ・テ・ネ。「・ヲ・」・ク・ァ・テ・ネ・ッ・鬣ケ
    、ホイソ、Ε、ヌ、ケ。」

      require "tk"
      Tk.bind_all('Button-1', proc {|x,y| printf("X=%d Y=%d\n", x, y)}, "%X %Y")
      Tk.bind_append_all('Button-1',
                              proc {|x,y| printf("x=%d y=%d\n", x, y)}, "%x %y")
      p Tk.bindinfo('all', 'Button-1')

      => [[#<Proc:0x4013463c>, "%X %Y"], [#<Proc:0x4013201c>, "%x %y"]]

--- TkComm#bind_all(context, cmd=Proc.new, args=nil)
    ((|context|))、ヌサリト熙キ、ソ・、・ル・Д諭▲礇優奪織、キ、ソ、ネ、ュ、ヒシツケヤ、ケ、ДΑシ・Д漾Ε董Ε奪┘
    ソ(|cmd|))、Ε院▲襦▲法▲曄Ε髻Α廖Ε・ァ・テ・ネ、ヒツミ、キ、ニナミマソ、キ、゛、ケ。」((|context|))。「
    ((|args|))、ホセワコル、マ。「((<TkBindCore#bind>)),((<TkComm::Event>))、愁ぅ札諭▲、ニ、ッ、タ、オ
    、、。」

    ーハイシ、ホホ网マ・゛・ヲ・ケ、璽・ッ・Д董Ε叩▲、ソ、ネ、ュ、ホ・゛・ヲ・ケ・ォ。シ・ス・Ε曄璽侫謄茵縫好轡、キ、゛、ケ。」

      require "tk"
      Tk.bind_all('Button-1', proc {|x,y| printf("X=%d Y=%d\n", x, y)}, "%X %Y")
      Tk.mainloop

--- TkComm#bind_append_all(context, cmd=Proc.new, args=nil)
    ((<TkComm#bind_all>))、ネニア、ク、ヌ、ケ、ャ。「、ケ、ヌ、ヒニア、ク((<context>))、ヒ・ウ。シ・Д漾Ε
    ・ッエリソΕ礇淵潺泪宗▲、Ε法◆◆‡Ε漾「((|cmd|))、謄離ぅ董▲魅淵潺泪宗▲、゛、ケ。」

    ・ウ。シ・Д漾Ε董Ε奪┘螢償Ε曠轡張吋筌克織泪淵潺泪愁克Ε漫▲(・ウ。シ・Д漾Ε董Ε奪┘螢償Ε曠轡張吋筌克織劵┘
    、キ、ニ、マ。「((<TkWindow#bindtags>))、篏イセネ、キ、ニ、ッ、タ、オ、、)。」

    ーハイシ、ホホ网マ・゛・ヲ・ケ、璽・ッ・Д董Ε叩▲、ソ、ネ、ュ、ホ・゛・ヲ・ケ・ォ。シ・ス・Ε曄璽侫謄茵縫好轡、キ、゛、ケ。」
    コヌス鬢ヒノスシィ、オ、Ε曄▲沺シ・ネ・ヲ・」・Д痢Ε鬟至Ε漫▲曄璽侫謄茵「シ。、ヒノスシィ、オ、Ε曄▲沺Ε髻Α
    ・ク・ァ・テ・ネセ螟ヌ、ホーフテヨ、ヒ、ハ、熙゛、ケ

      require "tk"
      Tk.bind_all('Button-1', proc {|x,y| printf("X=%d Y=%d\n", x, y)}, "%X %Y")
      Tk.bind_append_all('Button-1',
                              proc {|x,y| printf("x=%d y=%d\n", x, y)}, "%x %y")
      Tk.mainloop

--- TkComm#bindinfo_all(context=nil)
    ・、・ル・Д((|context|))、ヒナミマソ、オ、Ε宗Α◆Ε襦Д諭ΕΑシ・Д漾Ε董Ε叩▲曠事愈疋蹈棡Ε辧▲
    、ニハヨ、キ、゛、ケ。」ハヨ、オ、疋蹈棡Ε曠悒薀船漫▲((<TkComm#bind_all>)) 、ホツ,3ーΕ曠魅蹈棡Ε漫▲院」

      require "tk"
      cursor_pos1 = proc {|x,y| printf("X=%d Y=%d\n", x, y)}
      cursor_pos2 = proc {|x,y| printf("x=%d y=%d\n", x, y)}
      Tk.bind_all       ('Button-1', cursor_pos1, "%X %Y")
      Tk.bind_append_all('Button-1', cursor_pos2, "%x %y")
      p Tk.bindinfo_all('Button-1')

      => [[#<Proc:0x40133bd4>, "%X %Y"], [#<Proc:0x40131618>, "%x %y"]]

    ((|context|))、瀬魯曠磧▲、ソセ試「・ウ。シ・Д漾Ε董Ε奪┘螢償Ε礇淵潺泪宗▲、Ε法◆◆
    ・、・ル・Д諭▲曠捲俥疋蹈棡Ε辧▲、ニハヨ、キ、゛、ケ。」

      require "tk"
      cursor_pos = proc {|x,y| printf("X=%d Y=%d\n", x, y)}
      Tk.bind_all('Button-1', cursor_pos, "%X %Y")
      Tk.bind_all('Button-2', cursor_pos, "%X %Y")
      p Tk.bindinfo_all

      => ["Button-2", "Button-1", "Shift-Key-Tab", "Key-Tab", "Key-F10", "Alt-Key"]

--- TkComm#pack(*args)
    ((<TkPack.configure>))、ネニア、ク、ヌ、ケ。」

--- TkComm#grid(*args)
    ((<TkGrid.configure>))、ネニア、ク、ヌ、ケ。」

--- TkComm#update(idle=nil)
    ((|idle|))、ャソソ、ヌ、「、Ε漾「・ヲ・」・ク・ァ・テ・ネ、ホノチイ隍ハ、ノ。「トフセk、ャツヤ、チセヨ、ヒ、ハ、
    、゛、ヌシツケヤ、オ、Ε蓮◆▲告張コツ、ヒシツケヤ、キ、゛、ケ。」((|idle|))、ャfalse,nil、ハ、鬢ミホッ、テ
    、ソ・、・ル・Д諭▲蓮▲痢≫Ε院▲襦▲縫轡張吋筺▲、゛、ケ。」

== ト

--- TkComm::WidgetClassNames
    Tcl/Tk、ホ・ヲ・」・ク・ァ・テ・ネ・ッ・鬣ケフセ、Д紂シ、ヒ・ヲ・」・ク・ァ・テ・ネ・ッ・鬣ケシォツホ、汽魯魅掘▲、ソ・マ・テ
    ・キ・螟ヌ、ケ。」

--- TkComm::None
    ーユフ」、愁宗▲蓮◆▲謄悄縫后▲院ΕАΕ茵Ε・ァ・ッ・ネ、ヌ、ケ。」、ウ、ホ・ェ・ヨ・ク・ァ・ッ・ネ、ャTcl・、・Д宗Ε
    ・Д宗▲劵淵沺▲、ΕΑ▲諭▲沺◆屐♯Α、サ、」((({nil}))、マ。「カクサ期Ε諭▲、ニTcl・、・Д
    ・ラ・Д宗▲劵淵沺▲、ΕΑ▲諭▲磧◆屐♯Α、ケ)

    ・皈ス・テ・ノト轡繊▲曠灰鵝▲

      method(arg1, arg2=None)

    、ネ、ケ、ΕΑ▲諭▲漫「(('method(arg1)'))キチシー、ホクニ、モスミ、キ、ネ(('method(arg1,
    arg2)'))キチシー、ホクニ、モスミ、キ、ホ2シ俥Ε曠悒爛淵癲◆▲函▲曄皈ス・テ・ノ、ヌシツクス、キ、ニ、、、゛、ケ。」

--- TkComm::Tk_CMDTBL
    {・ラ・Д。シ・ク・紵D => Proc・ェ・ヨ・ク・ァ・ッ・ネ}、ヌ、「、Д沺Ε董Ε・蝪」

--- TkComm::Tk_WINDOWS
    {・ヲ・」・ク・ァ・テ・ネ・ム・ケ => ・ヲ・」・Д痢Ε髻ΕАΕ茵Ε・ァ・ッ・ネ}、ヌ、「、Д沺Ε董Ε・蝪」

--- TkComm::Tk_IDs
    [・ラ・Д。シ・ク・紵D、ホ・ォ・ヲ・Д宗「・ヲ・」・Д痢ΕID、ホ・ォ・ヲ・Д]、ヌ、「、疋蹈棡Ε漫▲院」

=end
